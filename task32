<!DOCTYPE><html>  <head>    <meta charset="utf-8">    <title>task32</title>    </head>    <style type="text/css">       .container{        width:300px;        font-family: "微软雅黑";       }       fieldset{        border:1px solid grey;        margin-bottom: 20px;       }       legend{        font-size:20px;       }       select{        margin-left:10px;       }       #inp{        width:200px;       }       .limit{        width:80px;       }       button{        font-size: 20px;        color:white;        background: blue;        width:90px;        height:30px;        border:1px solid blue;        border-radius:3px;       }       #display{        width:1100px;        height: 0 auto;        position: absolute;        top:20px;        left:400px;        border:1px solid black;        border-radius: 6px;       }       h1{        text-align: center;        color:blue;       }              #submit{        visibility: hidden;        }       #sub-display{       margin-left: 400px;       font-family: "微软雅黑";       font-size: 20px;       }                         </style>    <body>    <div class="container">       <fieldset class="f" id="f1">          <legend>类型</legend>          <input type="radio" name="type"  checked="checked">输入框          <input type="radio" name="type" id="type1">单选框          <input type="radio" name="type" id="type1">多选框          <input type="radio" name="type" id="type1">下拉框          <input type="radio" name="type" id="type1">文本域       </fieldset>       <fieldset class="f" id="f2">          <legend>配置</legend>          名称：<input type="text" id="inp" class="set" ="" value="文本域">          <input type="radio" name="set" id="check1" checked="checked">必填          <input type="radio" name="set" id="check2">选填         <select><option class="option" id="option1">样式一</option><option class="option" id="option2">样式二</option></select>       </fieldset>       <fieldset class="f" id="f3">          <legend>规则</legend>          <input type="radio" name="rule" id="rule1" checked="checked">文字          <input type="radio" name="rule" id="rule2">数字          <input type="radio" name="rule" id="rule3">邮箱          <input type="radio" name="rule" id="rule4">电话号码          <input type="radio" name="rule" id="rule5">密码       </fieldset>       <fieldset class="f" id="f4">          <legend>长度限制</legend>          字符范围：<input type="text" class="limit" id="limit1" value="4" class="limit">--<input type="text" class="limit" id="limit2" value="16" class="limit">       </fieldset>       <button id="add">add</button>        </div>    <div id="display">       <h1>表单展示区</h1>       <table id="sub-display">       </table>             <button id="submit">提交</button>          <script type="text/javascript">        var fieldset=document.getElementsByClassName("f"),        f1=fieldset[0],        f2=fieldset[1],        f3=fieldset[2],        f4=fieldset[3];        inputs1=f1.getElementsByTagName("input"),        inputs2=f2.getElementsByTagName("input"),        inputs3=f3.getElementsByTagName("input"),        inputs4=f4.getElementsByTagName("input"),        limit1=document.getElementById("limit1"),        limit2=document.getElementById("limit2"),        check1=document.getElementById("check1"),        check2=document.getElementById("check2"),        setName=["文字","数字","邮箱","电话号码","密码"],        setRule=[{hint:"必填，长度为"+limit1+"-"+"limit2",hint1:"选填，长度为"+limit1+"-"+"limit2",right:"文字格式正确",false1:"文字格式错误",false2:"文字不能为空"},        {hint:"必填，请输入数字",hint1:"选填，请输入数字",right:"数字格式正确",false1:"数字格式错误",false2:"数字不能为空"},        {hint:"必填，请输入邮箱",hint1:"选填，请输入邮箱",right:"邮箱格式正确",false1:"邮箱格式错误",false2:"邮箱不能为空"},        {hint:"必填，请输入电话号码",hint1:"选填，请输入电话号码",right:"电话号码格式正确",false1:"电话号码格式错误",false2:"电话号码不能为空"},        {hint:"必填，长度为"+limit1+"-"+"limit2",hint1:"选填，长度为"+limit1+"-"+"limit2",right:"密码格式正确",false1:"密码格式错误",false2:"密码不能为空"}        ],        btnAdd=document.getElementById("add"),        btnSubmit=document.getElementById("submit"),        box="",        subDisplay=document.getElementById("sub-display"),        inputBox=document.getElementsByClassName("inputBox"),        inForm=document.getElementsByClassName("inform")        ;                ;                f3.onchange=function(){            for(var i=0;i<inputs3.length;i++){                    if(inputs3[i].checked){               document.getElementById("inp").value=setName[i];              }           }           if(inputs3[1].checked||inputs3[2].checked||inputs3[3].checked){            f4.style.visibility="hidden"           }           else{            f4.style.visibility="visible"           }        }     var j=0        btnAdd.onclick=function(){         for(var i=0;i<inputs3.length;i++){              if(inputs3[i].checked){                  box+="<tr><td>"+setName[i]+"</td>";                  box+="<td><input type='text' class='inputBox' data-id='"+i+"' id='inputBox"+j+"' style='width:200px;height:30px;border:1px solid black;border-radius:5px;' onfocus='reminder(this,inputs2[1].checked)' onblur='test(this,inputs2[1].checked)'></td></tr>";                  box+="<tr><td></td><td class='inform' id='inform"+j+"' style='color:black;'></td></tr>";                  subDisplay.innerHTML=box;                      j++;                 /*                for(var m=0;m<j;m++)               inputBox[m].onfocus=function(){              console.log(this.id)              this.style.border="1px solid blue"              var inputId=this.id.split("inputBox")[1]             if(inputs2[1].checked){              document.getElementById("inform"+inputId).innerHTML=setRule[this.dataset.id].hint              }              else if(inputs2[2].checked){              document.getElementById("inform"+inputId).innerHTML=setRule[this.dataset.id].hint1               }              document.getElementById("inform"+inputId).style.color="black"                  this.onblur=function(){                   console.log(this.dataset.id)                   var dataSetId=this.dataset.id                    var inputValue=this.value;                    regValue(dataSetId,inputValue,this,inputId)                  }         }         */           }                   }         }        function reminder(inp,t){           inp.style.border="blue";           var inputId=inp.id.split("inputBox")[1];           if(t){           document.getElementById("inform"+inputId).innerHTML=setRule[inp.dataset.id].hint;           }           else{            document.getElementById("inform"+inputId).innerHTML=setRule[inp.dataset.id].hint1;           }           document.getElementById("inform"+inputId).style.color="black";               }        function test(inp,t){         var inputId=inp.id.split("inputBox")[1];            var dataSetId=inp.dataset.id            var inputValue=inp.value;            regValue(dataSetId,inputValue,inp,inputId)        }        function regValue(id,value,input,dataId){         var flag=false;         switch(parseInt(id)){          case 0:             flag=/^[a-zA-Z0-9_]{4,16}$/.test(value.replace(/[\u0391-\uFFE5]/g,"nn"));             break;          case 1:             flag=/^[0-9]$/.test(value);             break;          case 2:             flag=/[_a-z0-9-./]+@[_a-z0-9-]+(.[_a-z0-9-]+)*(.(info|biz|com|edu|gov|net|am|bz|cn|cx|hk|jp|tw|vc|vn))$/.test(value);             break;          case 3:             flag=/^[0-9]{11}$/.test(value);             break;          case 4:             flag=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,16}$/.test(value);             break;         }         if(flag){                input.style.border="1px solid green"                document.getElementById("inform"+dataId).innerHTML=setRule[id].right;                document.getElementById("inform"+dataId).style.color="green"         }else{          input.style.border="1px solid red"                document.getElementById("inform"+dataId).innerHTML=setRule[id].false2;                document.getElementById("inform"+dataId).style.color="red"         }        }                    </script>    </body>    </html>
